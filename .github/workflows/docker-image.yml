name: Release Branch Creation Test

on:
  create:
    branches:
      - 'release*'

jobs:
  test-branch-create:
    runs-on: ubuntu-latest

    steps:
      - name: Print event details
        run: |
          echo "üéâ Branch created!"
          echo "Event name      : ${{ github.event_name }}"
          echo "Ref             : ${{ github.ref }}"
          echo "Ref type        : ${{ github.ref_type }}"
          echo "Ref name        : ${{ github.ref_name }}"
          echo "Repository      : ${{ github.repository }}"
          echo "Actor           : ${{ github.actor }}"

      - name: Set branch name variable
        run: |
          echo "BRANCH_NAME=${{ github.ref_name }}" >> $GITHUB_ENV

      - name: Use branch name
        run: |
          echo "‚úÖ Branch detected dynamically"
          echo "Release branch  : $BRANCH_NAME"

      - name: Confirm this is a release branch
        run: |
          if [[ "$BRANCH_NAME" == releasex* ]]; then
            echo "üß™ UAT deployment would start here"
          else
            echo "‚ùå Not a release branch"
          fi
